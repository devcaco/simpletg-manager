<div class="main__container--right--body-customers">
  <div class="main__container--right--customers-header">
    <div>{{customer.custName}}</div>
    <div>
      <button
        type="button"
        class="btn btn-secondary"
        data-bs-toggle="modal"
        data-bs-target="#customerModal"
      >
        Edit Customer
      </button>
    </div>
  </div>
  <div class="main__container--right--body--customers-content">
    <div class="accordion" id="customerDetailsAccordion">
      <div class="accordion-item">
        <h2 class="accordion-header" id="detailsSec">
          <button
            class="accordion-button show"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseDetails"
            aria-expanded="false"
            aria-controls="collapseDetails"
          >
            Customer's Details
          </button>
        </h2>
        <div
          id="collapseDetails"
          class="accordion-collapse collapse show"
          aria-labelledby="detailsSec"
          data-bs-parent="#customerDetailsAccordion"
        >
          <div class="accordion-body">
            {{! CUSTOMERS DETAILS }}
            <div class="customer__details-container row">
              <div class="col">
                <div class="row">
                  <div class="input-group input-group-md mb-3">
                    <span
                      class="input-group-text"
                      style="width: 150px; margin-right: 15px"
                      >Type:</span
                    >
                    <input
                      type="text"
                      value="{{customer.type}}"
                      class="form-control form-control-plaintext"
                      readonly
                    />
                  </div>
                  <div class="input-group input-group-md mb-3">
                    <span
                      class="input-group-text"
                      style="width: 150px; margin-right: 15px"
                      >Name:</span
                    >
                    <input
                      type="text"
                      value="{{customer.custName}}"
                      class="form-control form-control-plaintext"
                      readonly
                    />
                  </div>
                  <div class="input-group input-group-md mb-3">
                    <span
                      class="input-group-text"
                      style="width: 150px; margin-right: 15px"
                      >DBA:</span
                    >
                    <input
                      type="text"
                      value="{{customer.dba}}"
                      class="form-control form-control-plaintext"
                      readonly
                    />
                  </div>
                  <div class="input-group input-group-md mb-3">
                    <span
                      class="input-group-text"
                      style="width: 150px; margin-right: 15px"
                      >E-Mail:</span
                    >
                    <input
                      type="text"
                      value="{{customer.email}}"
                      class="form-control form-control-plaintext"
                      readonly
                    />
                  </div>
                  <div class="input-group input-group-md mb-3">
                    <span
                      class="input-group-text"
                      style="width: 150px; margin-right: 15px"
                      >Website:</span
                    >
                    <input
                      type="text"
                      value="{{customer.website}}"
                      class="form-control form-control-plaintext"
                      readonly
                    />
                  </div>
                  <div class="col">
                    <div class="input-group input-group-md mb-3">
                      <span
                        class="input-group-text"
                        style="width: 150px; margin-right: 15px"
                        >Created At:</span
                      >
                      <input
                        type="text"
                        value="{{customer.createdAt}}"
                        class="form-control form-control-plaintext"
                        readonly
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="input-group input-group-md mb-3">
                  <span
                    class="input-group-text"
                    style="width: 150px; margin-right: 15px"
                    >Phone Number:</span
                  >
                  <input
                    type="text"
                    value="{{customer.phoneNumber.0.number}}"
                    class="form-control form-control-plaintext"
                    readonly
                  />
                </div>
                <div class="input-group input-group-md mb-3">
                  <span
                    class="input-group-text"
                    style="width: 150px; margin-right: 15px"
                    >Address:</span
                  >
                  <input
                    type="text"
                    value="{{customer.address.address1}}"
                    class="form-control form-control-plaintext"
                    readonly
                  />
                </div>
                <div class="input-group input-group-md mb-3">
                  <span
                    class="input-group-text"
                    style="width: 150px; margin-right: 15px"
                    >City:</span
                  >
                  <input
                    type="text"
                    value="{{customer.address.city}}"
                    class="form-control form-control-plaintext"
                    readonly
                  />
                </div>
                <div class="input-group input-group-md mb-3">
                  <span
                    class="input-group-text"
                    style="width: 150px; margin-right: 15px"
                    >State:</span
                  >
                  <input
                    type="text"
                    value="{{customer.address.state}}"
                    class="form-control form-control-plaintext"
                    readonly
                  />
                </div>
                <div class="input-group input-group-md mb-3">
                  <span
                    class="input-group-text"
                    style="width: 150px; margin-right: 15px"
                    >Zip Code:</span
                  >
                  <input
                    type="text"
                    value="{{customer.address.zipCode}}"
                    class="form-control form-control-plaintext"
                    readonly
                  />
                </div>
                <div class="input-group input-group-md mb-3">
                  <span
                    class="input-group-text"
                    style="width: 150px; margin-right: 15px"
                    >Updated At:</span
                  >
                  <input
                    type="text"
                    value="{{customer.updatedAt}}"
                    class="form-control form-control-plaintext"
                    readonly
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="accordion" id="customerSubAccordion">
      <div class="accordion-item">
        <h2 class="accordion-header" id="notesSec">
          <button
            class="accordion-button {{#ifCond section '==' 'notes'}} none {{else}} collapsed {{/ifCond}}"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseNotes"
            aria-expanded="false"
            aria-controls="collapseNotes"
          >
            Notes
          </button>
        </h2>
        <div
          id="collapseNotes"
          class="accordion-collapse {{#ifCond section '==' 'notes'}} show {{else}} collapse {{/ifCond}}"
          aria-labelledby="notesSec"
          data-bs-parent="#customerSubAccordion"
        >
          <div class="accordion-body">{{!-- NOTES --}} {{>customerNotes}}</div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="workSheetsSec">
          <button
            class="accordion-button {{#ifCond section '==' 'workSheets'}} none {{else}} collapsed {{/ifCond}}"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseWorksheets"
            aria-expanded="false"
            aria-controls="collapseWorksheets"
          >
            Work Sheets
          </button>
        </h2>
        <div
          id="collapseWorksheets"
          class="accordion-collapse {{#ifCond section '==' 'workSheets'}} show {{else}} collapse {{/ifCond}}"
          aria-labelledby="workSheetsSec"
          data-bs-parent="#customerSubAccordion"
        >
          <div class="accordion-body">
            {{!-- WORK SHEETS --}} {{>customerWorkSheets}}
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="devicesSec">
          <button
            class="accordion-button {{#ifCond section '==' 'devices'}} none {{else}} collapsed {{/ifCond}}"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseDevices"
            aria-expanded="false"
            aria-controls="collapseDevices"
          >
            Devices
          </button>
        </h2>
        <div
          id="collapseDevices"
          class="accordion-collapse {{#ifCond section '==' 'devices'}} show {{else}} collapse {{/ifCond}}"
          aria-labelledby="devicesSec"
          data-bs-parent="#customerSubAccordion"
        >
          <div class="accordion-body">
            {{!-- DEVICES --}} {{>customerDevices}}
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="documentsSec">
          <button
            class="accordion-button {{#ifCond section '==' 'documents'}} none {{else}} collapsed {{/ifCond}}"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseDocuments"
            aria-expanded="false"
            aria-controls="collapseDocuments"
          >
            Documents
          </button>
        </h2>
        <div
          id="collapseDocuments"
          class="accordion-collapse {{#ifCond section '==' 'documents'}} show {{else}} collapse {{/ifCond}}"
          aria-labelledby="documentsSec"
          data-bs-parent="#customerSubAccordion"
        >
          <div class="accordion-body">
            {{!-- DOCUMENTS --}} {{>customerDocuments}}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{{> customerForm}} {{> customerDelete}} {{#if error}}
<div class="toast-container position-fixed bottom-0 end-0 p-3">
  {{#each errorMsg}}
  <div
    id="liveToast"
    class="toast text-bg-danger border-0"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div class="toast-header">
      <strong class="me-auto">Error</strong>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="toast"
        aria-label="Close"
      ></button>
    </div>
    <div class="toast-body">{{this}}</div>
  </div>
  {{/each}}
</div>
{{! prettier-ignore }}
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {
    {{#unless pwd}}

    const userModal = document.querySelector('#usersModal');
    const modal = new bootstrap.Modal(userModal);
    modal.show();

    {{else}}

    const userPwd = document.querySelector('#usersPwdModal');
    const modal = new bootstrap.Modal(userPwd);
    modal.show();

    {{/unless}}

  });
</script>
{{/if}} {{#if edit}} {{! prettier-ignore }}
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {
    const customerModal = document.querySelector('#customerModal');
    const modal = new bootstrap.Modal(customerModal);
    modal.show();

    customerModal.addEventListener('hidden.bs.modal', (e) => {
      console.log('Modal Hidden!!!!!!!');
      window.location.href = '/customers';
    });
  });
</script>
{{/if}}
